#!/bin/bash
#
# backup files under /home/leon/bashrc to /tmp/leon/bashrc
# copy /home/leon/bin files to /tmp/backuprc/bin and then copy all of them and .prefixed files to /home/leon/bashrc  as backup
#
SRC=/home/leon
DEST=/home/leon/bashrc
tmpDEST=/tmp/backuprc
# for f in $(ls -f ~/bashrc | grep '^\.') ; do [ ! -d $f ] && [ $f != ".gitignore" ] && cp  ~/$f ~/bashrc ; done
# find ~/bashrc -name '.git' -prune -o -name 'bin' -prune -o -not -name '.git*' -print
#cd $DEST

[[ ! -d $tmpDEST ]] && mkdir $tmpDEST


cd /home/leon/bashrc
pwd

#
# copy all files of current directory /home/leon/bashrc but exclude '.git*', 'bin', '.', 'README*' to destination directory
#
find . -maxdepth 1 -not -name '.git*' -not -name 'bin' -not -name '.' -not -name 'README*' -exec cp $SRC/{} $tmpDEST \;

[[ ! -d $tmpDEST/bin ]] && mkdir $tmpDEST/bin
#
# copy all files of /home/leon/src/bin but exclude '4jdesk', 'msteams', 'unraid_rclone*', 'bin', '.', 'README*' to destination directory
#
#find $SRC/bin -maxdepth 1 -not -name 'unraid_rclone*' -not -name 'bin' -not -name '.' -not -name 'README*' -exec cp {} $tmpDEST/bin \;
find $SRC/bin -maxdepth 1 -not -name '4jdesk' -not -name 'msteams' -not -name 'unraid_rclone*' -not -name 'bin' -not -name '.' -not -name 'README*' -exec cp {} $tmpDEST/bin \;

echo "cp -r $tmpDEST/* $DEST/"
cp -r $tmpDEST/* $DEST/

echo "cp $tmpDEST/.* $DEST/"
cp -r $tmpDEST/.* $DEST/


ls -al
